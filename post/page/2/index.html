<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>白菜不是菜</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="A minimal Hugo theme with nice theme color.">
    <meta name="generator" content="Hugo 0.145.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    <meta name="author" content="baicai">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >




    


    
      

    

    
    
      <link href="/post/index.xml" rel="alternate" type="application/rss+xml" title="白菜不是菜" />
      <link href="/post/index.xml" rel="feed" type="application/rss+xml" title="白菜不是菜" />
      
    

    
      <link rel="canonical" href="http://localhost:1313/post/">
    

    <meta property="og:url" content="http://localhost:1313/post/">
  <meta property="og:site_name" content="白菜不是菜">
  <meta property="og:title" content="Posts">
  <meta property="og:description" content="A minimal Hugo theme with nice theme color.">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="website">
    <meta property="og:image" content="http://localhost:1313/img/og.png">

  <meta itemprop="name" content="Posts">
  <meta itemprop="description" content="A minimal Hugo theme with nice theme color.">
  <meta itemprop="datePublished" content="2025-04-02T17:39:49+08:00">
  <meta itemprop="dateModified" content="2025-04-02T17:39:49+08:00">
  <meta itemprop="image" content="http://localhost:1313/img/og.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/img/og.png">
  <meta name="twitter:title" content="Posts">
  <meta name="twitter:description" content="A minimal Hugo theme with nice theme color.">

	
  </head><body class="ma0 avenir bg-near-white development">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        白菜不是菜
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="">
              About
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      

  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links mid-gray">
      
    </section>
    <aside class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        十二月 29, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/centos%E9%85%8D%E7%BD%AEgoogleauthenticator%E5%8A%A8%E6%80%81%E5%AF%86%E9%92%A5%E8%BF%9B%E8%A1%8Cssh%E4%BA%8C%E6%AC%A1%E9%AA%8C%E8%AF%81/" class="link black dim">
        Centos配置GoogleAuthenticator动态密钥进行ssh二次验证
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h3 id="安装依赖">安装依赖</h3>
<pre><code class="language-bash">yum list | grep google-authenticator
yum install google-authenticator
yum install qrencode
</code></pre>
<h3 id="配置google-authenticator">配置Google Authenticator</h3>
<p>安装完直接跑下面的命令进行配置，注意只在当前用户生效</p>
<pre><code>&gt; google-authenticator
</code></pre>
<p>之后会需要确认几点信息</p>
<pre><code>Do you want authentication tokens to be time-based (y/n) y
</code></pre>
<p>是否配置基于时间的动态密钥，选择y，之后会出现超级大一个二维码，下面还会有一些小字,这里的key就是用于配置手机端app的，我们先保存下来，不用慌，因为这个key随时都可以查得到.</p>
    </div>
  <a href="/post/centos%E9%85%8D%E7%BD%AEgoogleauthenticator%E5%8A%A8%E6%80%81%E5%AF%86%E9%92%A5%E8%BF%9B%E8%A1%8Cssh%E4%BA%8C%E6%AC%A1%E9%AA%8C%E8%AF%81/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        十二月 25, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/tui-consolelauncher-%E5%8F%AF%E5%AE%9A%E5%88%B6%E5%8C%96geek%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%99%A8/" class="link black dim">
        TUI ConsoleLauncher 可定制化geek命令行桌面启动器
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="https://github.com/fAndreuzzi/TUI-ConsoleLauncher">TUI ConsoleLauncher</a>  basically transforms your Android into a terminal window, requiring you to type out commands to start apps and explore your phone&rsquo;s system as opposed to the familiar process of tapping on icons. It&rsquo;s a great way to practice or learn about Linux commands, and it has the added benefit of securing your phone against unwanted access.</p>
<p>常用命令：</p>
<pre><code class="language-bash">-- 不允许别人用exit命令退出
alias add exit=echo &quot;No&quot;
-- 定制化界面，取消不必要元素
config -set show_session_info false
config -set show_storage_info false
config -set show_device_name false
config -set show_ram false
config -set show_network_info false
-- 优化
config -set time_size 20 --调大时间字体
config -set system_wallpaper true --显示系统壁纸
config -set fullscreen true
config -set enable_music true
-- 记日志/备忘录
note -add 明早九点加班
</code></pre>
<p>修改配置后需要restart才能生效。</p>
    </div>
  <a href="/post/tui-consolelauncher-%E5%8F%AF%E5%AE%9A%E5%88%B6%E5%8C%96geek%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A1%8C%E9%9D%A2%E5%90%AF%E5%8A%A8%E5%99%A8/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        十月 13, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/ambari%E9%87%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="link black dim">
        Ambari里自定义资源模块的实现
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Ambari里主机，集群，用户等等都视为一种资源，对它们的增删改查就是对资源的增删改查。</p>
<p>了解实现Ambari里增加一个资源的流程，就更方便修改Ambari的实现。</p>
<h3 id="1新建控制器层">1.新建控制器层</h3>
<p>ambari的控制器层在service包里</p>
    </div>
  <a href="/post/ambari%E9%87%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AE%9E%E7%8E%B0/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        八月 26, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/prosody%E6%90%AD%E5%BB%BAxmpp%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="link black dim">
        Prosody搭建xmpp服务器
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>按惯例上Prosody 自己的文档: <a href="https://prosody.im/doc/">https://prosody.im/doc/</a></p>
<h3 id="安装">安装</h3>
<p>使用centos8安装</p>
<pre><code class="language-bash">yum install prosody
dnf --enablerepo=PowerTools install lua-filesystem
</code></pre>
<p>其它版本linux则无需单独安装lua-filesystem依赖。</p>
<h3 id="配置">配置</h3>
<p>主配置文件 prosody.cfg.lua 一般不需要修改。</p>
<p>下面写些咱做的修改😂</p>
<ul>
<li>在 modules_enabled 中取消启用 version 和 uptime 模块，顺便启动些其他的模块，比如offline。</li>
<li>如果需要允许在客户端上注册的话，把 allow_registration 设置成 true 。</li>
</ul>
<p>其它配置保持默认即可。</p>
    </div>
  <a href="/post/prosody%E6%90%AD%E5%BB%BAxmpp%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        八月 11, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/%E5%9F%BA%E4%BA%8Erestfulapi%E5%AE%9E%E7%8E%B0k8s%E7%9A%84%E7%9B%91%E5%90%AC%E6%9C%BA%E5%88%B6/" class="link black dim">
        基于restfulAPI实现k8s的监听机制
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>k8s rest api对rc、svc、ingress、pod、deployment等都提供的watch接口，可以实时的监听应用部署状态。</p>
<p>在此之前简单先说一下http长连接</p>
<h2 id="分块传输编码chunked-transfer-encoding">分块传输编码（Chunked transfer encoding）</h2>
<p>超文本传输协议（HTTP）中的一种数据传输机制，允许HTTP由应用服务器发送给客户端应用（ 通常是网页浏览器）的数据可以分成多个部分。分块传输编码只在HTTP协议1.1版本（HTTP/1.1）中提供。
通常，HTTP应答消息中发送的数据是整个发送的，Content-Length消息头字段表示数据的长度。数据的长度很重要，因为客户端需要知道哪里是应答消息的结束，以及后续应答消息的开始。然而，使用分块传输编码，数据分解成一系列数据块，并以一个或多个块发送，这样服务器可以发送数据而不需要预先知道发送内容的总大小。通常数据块的大小是一致的，但也不总是这种情况。</p>
    </div>
  <a href="/post/%E5%9F%BA%E4%BA%8Erestfulapi%E5%AE%9E%E7%8E%B0k8s%E7%9A%84%E7%9B%91%E5%90%AC%E6%9C%BA%E5%88%B6/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        七月 3, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/helm%E9%9B%86%E6%88%90minio%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/" class="link black dim">
        Helm集成minio搭建私有仓库
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h1 id="helm3集成minio搭建私有仓库">helm3集成minio搭建私有仓库</h1>
<p>我们一般是从本地的目录结构中的chart去进行部署，如果要集中管理chart,就需要涉及到repository的问题可以通过minio建立一个私有的存放仓库。</p>
<h2 id="minio安装">minio安装</h2>
<p>安装过程略去，直接下载执行文件即可</p>
<pre><code class="language-bash"> .\minio.exe server g:/tmp/
</code></pre>
<p>配置mc</p>
    </div>
  <a href="/post/helm%E9%9B%86%E6%88%90minio%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        五月 12, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/%E4%B8%80%E7%A7%8Dswagger-ui%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E4%B8%8D%E5%BC%95%E5%85%A5%E4%BB%BB%E4%BD%95%E6%BA%90%E7%A0%81%E6%B1%A1%E6%9F%93/" class="link black dim">
        一种swagger Ui的替代方案不引入任何源码污染
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>在后端项目中，难免遇到需要写接口文档方便第三方调用的场景，一般业界最常用的方案是使用swagger。Java项目中，一般采用springfox项目，它集成了swagger和swagger-ui，不需要单独部署项目，可让文档随着项目一起发布。</p>
    </div>
  <a href="/post/%E4%B8%80%E7%A7%8Dswagger-ui%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88%E4%B8%8D%E5%BC%95%E5%85%A5%E4%BB%BB%E4%BD%95%E6%BA%90%E7%A0%81%E6%B1%A1%E6%9F%93/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        三月 7, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/kde%E6%A1%8C%E9%9D%A2%E4%B8%8B%E9%83%A8%E5%88%86%E5%BA%94%E7%94%A8%E6%97%A0%E6%B3%95%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/" class="link black dim">
        Kde桌面下自带应用无法输入中文
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>​      这个问题纠结我快一年了。某次manjaro升级后，我的manjaro在系统自带应用上如konsole,kate,Yakuake上都不能切换输入法（目测系统自带的软件都不能），鼠标放键盘图标上提示“无输入窗口”。但是浏览器和其他软件是可以的。这个问题不是太影响使用，就忍了很久，大不了其他地方写好了再复制到kate里，但是就好像衣服上落沾了一坨黄泥，始终感觉不爽，每隔一两个月就要尝试解决一次，始终无果。</p>
    </div>
  <a href="/post/kde%E6%A1%8C%E9%9D%A2%E4%B8%8B%E9%83%A8%E5%88%86%E5%BA%94%E7%94%A8%E6%97%A0%E6%B3%95%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        三月 6, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/k8s%E9%83%A8%E7%BD%B2springboot/" class="link black dim">
        K8s部署springboot
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <h3 id="1安装k8s">1.安装k8s</h3>
<p>安装K8S的步骤略去，使用k3s安装会更快捷方便，方便测试环境。</p>
<p>如果使用k3s会有个坑，k3s默认使用container而不是docker作为容器，会导致运行时出现一些问题，后面会详细分析。</p>
<p>安装k3s后，需要按照如下修改 /etc/systemd/system/k3s.service</p>
    </div>
  <a href="/post/k8s%E9%83%A8%E7%BD%B2springboot/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
            <div class="mb3 pa4 mid-gray overflow-hidden">
    
      <div class="f6">
        二月 28, 2020
      </div>
    
    <h1 class="f3 near-black">
      <a href="/post/windows%E4%B8%8A%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%BF%90%E8%A1%8Crancher/" class="link black dim">
        Windows上编译安装运行rancher
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>rancher 是一个为DevOps团队提供的完整的Kubernetes与容器管理解决方案。rancher最大的优点就是安装部署方便，极大地简化了K8S的安装配置。在官网上，推荐的是使用docker方式安装rancher，这种方式隐藏了大量的细节。在网上搜了下现有的资料，几乎都是照抄官方文档，更没有在windows上安装rancher的先例。</p>
    </div>
  <a href="/post/windows%E4%B8%8A%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85%E8%BF%90%E8%A1%8Crancher/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1"></a>
  </div>

        </div>
      
    </aside>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/post/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/post/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/post/page/3/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/post/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  白菜不是菜 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
